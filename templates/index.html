<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>League Table - MCchodesFC</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
        h1, h2 { text-align: center; }
        table { border-collapse: collapse; width: 80%; margin: 20px auto; background: white; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        th { background-color: #444; color: white; }
        tr:nth-child(even) { background: #f2f2f2; }
        a { color: blue; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .leaders { margin: 20px auto; width: 60%; text-align: center; }
        .leaders h2 { margin: 10px 0; }
    </style>
</head>
<body>
    <h1>League Table - MCchodesFC</h1>

    <div class="leaders">
        <h2>Top Scorer: {{ top_scorer }} {% if top_scorer_goals is not none %} ({{ top_scorer_goals }}){% endif %}</h2>
        <h2>Top Assister: {{ top_assister }} {% if top_assister_assists is not none %} ({{ top_assister_assists }}){% endif %}</h2>
        <h2>Top GA: {{ top_ga }} {% if top_ga_total is not none %} ({{ top_ga_total }}){% endif %}</h2>
    </div>

    <table>
        <thead>
            <tr>
                <th>Position</th>
                <th>Team</th>
                <th>Played</th>
                <th>Wins</th>
                <th>Draws</th>
                <th>Losses</th>
                <th>Points</th>
            </tr>
        </thead>
        <tbody>
            {% for team in teams %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>
                    <a href="{{ url_for('team_page', team_name=team.name|replace(' ','_')) }}">
                        {{ team.name }}
                    </a>
                </td>
                <td>{{ team.get('played', team.wins + team.draws + team.losses) }}</td>
                <td>{{ team.get('wins',0) }}</td>
                <td>{{ team.get('draws',0) }}</td>
                <td>{{ team.get('losses',0) }}</td>
                <td>{{ team.get('points',0) }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
